æ²¿ç€ **RustCrypto â†’ AEAD â†’ å¯†é’¥åå•† â†’ TLS** è¿™æ¡çº¿æ¥æ„å»ºå­¦ä¹ è·¯å¾„ã€‚

---

## ğŸ§© é˜¶æ®µ 1ï¼šæ–‡ä»¶åŠ å¯†å·¥å…·ï¼ˆå¯¹ç§° AEADï¼‰

**ç›®æ ‡**ï¼šç”¨ç°ä»£ AEAD åŠ å¯†ä¸€ä¸ªæ–‡ä»¶ï¼Œå†è§£å¯†å›æ¥ã€‚
**é‡ç‚¹æ¦‚å¿µ**ï¼šå¯¹ç§°åŠ å¯†ã€nonceã€tagï¼ˆè®¤è¯æ ‡ç­¾ï¼‰ã€AEADã€‚

### âœ… æ¨èåº“

| åŠŸèƒ½      | Crate                                                  | ç”¨é€”                         | è¯´æ˜                                  |
| --------- | ------------------------------------------------------ | ---------------------------- | ------------------------------------- |
| AEAD ç®—æ³• | [`chacha20poly1305`](https://docs.rs/chacha20poly1305) | XChaCha20-Poly1305 åŠ å¯†/è§£å¯† | RustCrypto æä¾›çš„é«˜è´¨é‡ AEAD ç®—æ³•å®ç° |
| éšæœºæ•°    | [`rand_core`](https://docs.rs/rand_core)               | ç”Ÿæˆéšæœº nonce               | å¯æ­é… `OsRng` ä½¿ç”¨                   |
| å·¥å…·      | [`anyhow`](https://docs.rs/anyhow)                     | é”™è¯¯å¤„ç†                     | æ–¹ä¾¿è°ƒè¯•é”™è¯¯                          |
| æ–‡ä»¶ IO   | æ ‡å‡†åº“ (`std::fs`)                                     | è¯»å†™æ–‡ä»¶                     | ä¸éœ€é¢å¤–åº“                            |

> ğŸ“˜ é¢å¤–é€‰é¡¹ï¼šæƒ³å¯¹æ¯”æ€§èƒ½/æ ¼å¼ï¼Œå¯è¯•è¯• `aes-gcm` crateã€‚
> ä¸¤è€…éƒ½å®ç°äº† `aead` traitï¼ŒAPI ç±»ä¼¼ã€‚

---

## ğŸ”‘ é˜¶æ®µ 2ï¼šå»ºç«‹ä¼šè¯å¯†é’¥ï¼ˆå¯†é’¥åå•† + HKDFï¼‰

**ç›®æ ‡**ï¼šç†è§£å…¬é’¥äº¤æ¢ + ä»å…±äº«å¯†é’¥æ´¾ç”Ÿå‡ºå¯¹ç§°å¯†é’¥ã€‚
**é‡ç‚¹æ¦‚å¿µ**ï¼šDiffie-Hellmanï¼ˆDHï¼‰ã€HKDFã€å¯†é’¥æ´¾ç”Ÿã€‚

### âœ… æ¨èåº“

| åŠŸèƒ½             | Crate                                                  | ç”¨é€”                                 | è¯´æ˜                        |
| ---------------- | ------------------------------------------------------ | ------------------------------------ | --------------------------- |
| æ¤­åœ†æ›²çº¿å¯†é’¥äº¤æ¢ | [`x25519-dalek`](https://docs.rs/x25519-dalek)         | ç”Ÿæˆå…¬ç§é’¥ + è®¡ç®—å…±äº«å¯†é’¥            | åŸºäº Curve25519ï¼Œå®‰å…¨ä¸”ç°ä»£ |
| å¯†é’¥æ´¾ç”Ÿ         | [`hkdf`](https://docs.rs/hkdf)                         | ç”¨ HKDF ä»å…±äº«å¯†é’¥æ´¾ç”Ÿå‡ºå›ºå®šé•¿åº¦å¯†é’¥ | RustCrypto å®ç°             |
| AEAD åŠ å¯†        | [`chacha20poly1305`](https://docs.rs/chacha20poly1305) | ç”¨æ´¾ç”Ÿå¯†é’¥åŠ å¯†æ¶ˆæ¯                   | å’Œä¸Šé˜¶æ®µå¤ç”¨                |
| éšæœºæ•°           | [`rand_core`]                                          | ç”Ÿæˆä¸´æ—¶ç§é’¥                         | åŒå‰                        |

> ğŸ’¡ è¿™ä¸€æ­¥è®©ä½ äº²æ‰‹ä½“éªŒâ€œTLS å¯†é’¥åå•†çš„å†…æ ¸â€ã€‚

---

## ğŸ”’ é˜¶æ®µ 3ï¼šTLS å®æˆ˜ï¼ˆRust Async ç½‘ç»œå±‚ï¼‰

**ç›®æ ‡**ï¼šæŒæ¡ TLS é€šé“åŠ å¯†çš„ç»“æ„ã€‚
**é‡ç‚¹æ¦‚å¿µ**ï¼šæ¡æ‰‹ã€è¯ä¹¦ã€ECDHEã€ä¼šè¯å¯†é’¥ã€ALPNã€‚

### âœ… æ¨èåº“

| åŠŸèƒ½                | Crate                                          | ç”¨é€”                             | è¯´æ˜                       |
| ------------------- | ---------------------------------------------- | -------------------------------- | -------------------------- |
| TLS åè®®            | [`rustls`](https://docs.rs/rustls)             | TLS 1.3 åè®®æ ˆ                   | RustCrypto ç”Ÿæ€æ ¸å¿ƒ TLS åº“ |
| Async é›†æˆ          | [`tokio-rustls`](https://docs.rs/tokio-rustls) | åœ¨ tokio runtime é‡Œè·‘ TLS stream | ç”¨äº async TCP             |
| è¯ä¹¦ç”Ÿæˆ            | [`rcgen`](https://docs.rs/rcgen)               | ç”Ÿæˆè‡ªç­¾è¯ä¹¦                     | å®éªŒé˜¶æ®µæ–¹ä¾¿ä½¿ç”¨           |
| å®¢æˆ·ç«¯ HTTPï¼ˆå¯é€‰ï¼‰ | [`reqwest`](https://docs.rs/reqwest)           | åš TLS å®¢æˆ·ç«¯æµ‹è¯•                | åŸºäº rustls                |

---

## ğŸ§± é™„åŠ æ¨èï¼šåŸºç¡€ç®—æ³•å±‚ï¼ˆå¯é€‰æ‰“åº•åº“ï¼‰

è¿™äº›åº“ä½ æš‚æ—¶ä¸ç”¨æ‰‹å†™è°ƒç”¨ï¼Œä½†å»ºè®®äº†è§£ï¼š

| ç±»åˆ«              | Crate                                                                                  | ç¤ºä¾‹ç®—æ³•         |
| ----------------- | -------------------------------------------------------------------------------------- | ---------------- |
| å“ˆå¸Œå‡½æ•°          | [`sha2`](https://docs.rs/sha2), [`blake2`](https://docs.rs/blake2)                     | SHA-256, BLAKE2b |
| å¯†ç å­¦ trait æ¥å£ | [`aead`](https://docs.rs/aead), [`cipher`](https://docs.rs/cipher)                     | é€šç”¨æ¥å£å®šä¹‰     |
| æ•°å­—ç­¾å          | [`ed25519-dalek`](https://docs.rs/ed25519-dalek)                                       | ä¹‹åç”¨æ¥ç­¾åæ¶ˆæ¯ |
| PEM/DER å¤„ç†      | [`pem-rfc7468`](https://docs.rs/pem-rfc7468), [`x509-cert`](https://docs.rs/x509-cert) | è¯ä¹¦è§£æ         |

---

## ğŸ§© æ€»ç»“ï¼šè·¯çº¿ä¾èµ–æ¸…å•

|    é˜¶æ®µ    | å¿…å¤‡ Crate                                              | å¯é€‰è¾…åŠ©                       |
| :--------: | :------------------------------------------------------ | :----------------------------- |
| 1ï¸âƒ£ æ–‡ä»¶åŠ å¯† | `chacha20poly1305`, `rand_core`, `anyhow`               | `aes-gcm`                      |
| 2ï¸âƒ£ ä¼šè¯å¯†é’¥ | `x25519-dalek`, `hkdf`, `chacha20poly1305`, `rand_core` | `serde_json`ï¼ˆä¼ è¾“ç»“æ„åŒ–æ•°æ®ï¼‰ |
|   3ï¸âƒ£ TLS    | `rustls`, `tokio-rustls`, `rcgen`, `tokio`              | `reqwest`                      |


